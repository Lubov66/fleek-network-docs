"use strict";(self.webpackChunkdocta=self.webpackChunkdocta||[]).push([[9707],{139:(e,n,s)=>{s.d(n,{ZP:()=>a});var t=s(5893),i=s(1151);function r(e){const n={a:"a",admonition:"admonition",p:"p",...(0,i.a)(),...e.components};return(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:"To prevent any negative impact on the node's reputation, it's advisable to wait until the end of the Epoch (~24h) before shutting down the node when opting out. The same applies to nodes that have opted-in but are currently offline."}),(0,t.jsxs)(n.p,{children:["To learn more, read the ",(0,t.jsx)(n.a,{href:"/docs/node/lightning-cli",children:"Lightning-CLI"})," section for command ",(0,t.jsx)(n.a,{href:"/docs/node/lightning-cli#opt",children:"opt"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},7538:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>h});var t=s(5893),i=s(1151),r=s(3872),a=s(139);const o={title:"Systemd Service",slug:"systemd-service",hide_title:!0,tags:["systemd","systemctl","control","manage"]},l=void 0,d={id:"node/systemd-service",title:"Systemd Service",description:"Systemd Service",source:"@site/docs/node/systemd-service.md",sourceDirName:"node",slug:"/node/systemd-service",permalink:"/docs/node/systemd-service",draft:!1,unlisted:!1,tags:[{label:"systemd",permalink:"/docs/tags/systemd"},{label:"systemctl",permalink:"/docs/tags/systemctl"},{label:"control",permalink:"/docs/tags/control"},{label:"manage",permalink:"/docs/tags/manage"}],version:"current",frontMatter:{title:"Systemd Service",slug:"systemd-service",hide_title:!0,tags:["systemd","systemctl","control","manage"]},sidebar:"docs",previous:{title:"Analyzing logs",permalink:"/docs/node/analyzing-logs"},next:{title:"Lightning CLI",permalink:"/docs/node/lightning-cli"}},c={},h=[{value:"Systemd Service",id:"systemd-service",level:2},{value:"Reload the daemon",id:"reload-the-daemon",level:3},{value:"Enable",id:"enable",level:3},{value:"Disable",id:"disable",level:3},{value:"Start",id:"start",level:3},{value:"Stop",id:"stop",level:3},{value:"Restart",id:"restart",level:3},{value:"Status",id:"status",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"systemd-service",children:"Systemd Service"}),"\n",(0,t.jsx)(n.p,{children:"In this section we describe how to enable, disable, start, stop the Systemd Service."}),"\n",(0,t.jsxs)(n.p,{children:["The service is set up by the ",(0,t.jsx)(n.a,{href:"#assisted-installer",children:"assisted installer"})," automatically, or manually as described in the ",(0,t.jsx)(n.a,{href:"/docs/node/install#manual-installation",children:"manual installation"})," and ",(0,t.jsx)(n.a,{href:"/docs/node/install#docker-installation",children:"docker install"}),"."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["While the Lightning-CLI Node process can operate independently, it is recommended to utilize Systemd for service management of the Lightning Node process in Linux. It's important to note that any network-related settings, such as opting-in or opting-out of network participation, should be managed separately by the Node Operator via the ",(0,t.jsx)(n.a,{href:"/docs/node/lightning-cli",children:"CLI"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"reload-the-daemon",children:"Reload the daemon"}),"\n",(0,t.jsx)(n.p,{children:"Reload the Systemctl daemon by executing the command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,t.jsx)(n.h3,{id:"enable",children:"Enable"}),"\n",(0,t.jsx)(n.p,{children:"Enable the service for starting up on system boot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl enable lightning.service\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["If you have installed or set up the Service as a Docker Container, prefix the service name with ",(0,t.jsx)(n.code,{children:"docker-"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl enable docker-lightning\n"})})]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["You shouldn't have prefixed the systemctl command with ",(0,t.jsx)(n.strong,{children:"sudo"})," when start/stop/status the service. Due to some VPS providers modifying the operating system, we had to present the examples prefixed with sudo for the wider audience. If you'd like to learn more about controlling Systemd services as a ",(0,t.jsx)(n.code,{children:"user"})," check the reference ",(0,t.jsx)(n.a,{href:"/references/Systemd/user-service",children:"Systemd user-service"}),"."]})}),"\n",(0,t.jsx)(n.h3,{id:"disable",children:"Disable"}),"\n",(0,t.jsx)(n.p,{children:"Disable the service for starting up on system boot:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl disable lightning.service\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["If you have installed or setup the Service as a Docker Container, prefix the service name with ",(0,t.jsx)(n.code,{children:"docker-"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl disable docker-lightning\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"start",children:"Start"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["Before starting the service, make sure to opt-in or opt-out of network participation, through the available subcommand ",(0,t.jsx)(n.strong,{children:"opt"})," in the CLI."]}),(0,t.jsx)(n.p,{children:"The quickest way to find help is to run the help subcommand as follows:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"lgtn opt help\n"})}),(0,t.jsxs)(n.p,{children:["To learn more, read the ",(0,t.jsx)(n.a,{href:"/docs/node/lightning-cli",children:"Lightning-CLI"})," section for command ",(0,t.jsx)(n.a,{href:"/docs/node/lightning-cli#opt",children:"opt"}),"."]})]}),"\n",(0,t.jsx)(n.p,{children:"Start the service by:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lightning.service\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.p,{children:"When naming the service, the *.service can be omitted. For this reason the command can be typed as follows:"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start lightning\n"})})]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["If you have installed or set up the Service as a Docker Container, prefix the service name with ",(0,t.jsx)(n.code,{children:"docker-"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl start docker-lightning\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"stop",children:"Stop"}),"\n",(0,t.jsx)(a.ZP,{}),"\n",(0,t.jsx)(n.p,{children:"Stop the service by:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop lightning\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["If you have installed or set up the Service as a Docker Container, prefix the service name with ",(0,t.jsx)(n.code,{children:"docker-"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl stop docker-lightning\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"restart",children:"Restart"}),"\n",(0,t.jsx)(n.p,{children:"Restart the service by:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl restart lightning\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["If you have installed or set up the Service as a Docker Container, prefix the service name with ",(0,t.jsx)(n.code,{children:"docker-"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl restart docker-lightning\n"})})]}),"\n",(0,t.jsx)(n.h3,{id:"status",children:"Status"}),"\n",(0,t.jsx)(n.p,{children:"Check the service status by:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl status lightning.service\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"warning",children:[(0,t.jsx)(n.p,{children:"Network participation is solely managed by the Node Operator, who decides to opt-in or opt-out of node network participation."}),(0,t.jsx)(n.p,{children:"It' s important for Node Operators to regularly monitor the status of their active nodes and ensure that they are actively participating in the network."}),(0,t.jsx)(n.p,{children:"Any node that has opted-in but remains inactive will be subjected to reputation penalties."}),(0,t.jsxs)(n.p,{children:["To learn more read the ",(0,t.jsx)(n.a,{href:"/docs/node/lightning-cli#opt",children:"Lightning-CLI Opt"})," command section and ",(0,t.jsx)(n.a,{href:"/docs/node/health-check",children:"health-checkups"}),"."]})]}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["If you have installed or set up the Service as a Docker Container, prefix the service name with ",(0,t.jsx)(n.code,{children:"docker-"}),"."]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sudo systemctl status docker-lightning\n"})})]}),"\n",(0,t.jsx)(r.Z,{name:"Helder Oliveira",image:"https://github.com/heldrida.png",title:"Software Developer + DX",url:"https://github.com/heldrida"})]})}function m(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},3872:(e,n,s)=>{s.d(n,{Z:()=>i});s(7294);var t=s(5893);const i=e=>{let{image:n,name:s,title:i,url:r,communityMember:a=!1}=e;return(0,t.jsx)("section",{className:"author_card",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"avatar",children:(0,t.jsx)("a",{href:r,target:"_blank",alt:s,children:(0,t.jsx)("img",{src:n,alt:s})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"name",children:(0,t.jsx)("a",{href:r,target:"_blank",alt:s,children:s})}),(0,t.jsx)("span",{className:"title",children:i}),(0,t.jsxs)("span",{className:"discord",children:[a?"Join our community on":"Got questions? Find us on"," ",(0,t.jsx)("a",{href:"https://discord.gg/fleek",target:"_blank",children:"discord!"})]})]})]})})}},1151:(e,n,s)=>{s.d(n,{Z:()=>o,a:()=>a});var t=s(7294);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);